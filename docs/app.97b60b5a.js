parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"OU0T":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GUI=void 0;var a=function(){function t(){e(this,t),this._onResetCb=null,this._btnNewGame=document.getElementsByClassName("btn-new-game")[0]}return n(t,[{key:"displayPlayedGames",value:function(e){document.getElementsByClassName("statics__number-of-games-played")[0].textContent=e}},{key:"markCell",value:function(e,t){document.getElementsByClassName("cell")[e].textContent=t.symbol}},{key:"showNewGameButton",value:function(){this._btnNewGame.hidden=!1,this._btnNewGame.addEventListener("click",this._onResetCb)}},{key:"hideNewGameButton",value:function(){this._btnNewGame.hidden=!0,this._btnNewGame.removeEventListener("click",this._onResetCb)}},{key:"onResetClicked",value:function(e){this._onResetCb=e}},{key:"clearCells",value:function(){for(var e=0;e<9;e++)document.getElementsByClassName("cell")[e].textContent=null}}]),t}();exports.GUI=a;
},{}],"zr4s":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractPlayer=void 0;var n=function(){function t(r){e(this,t),this._name=r}return r(t,[{key:"makeTurn",value:function(e){throw new Error("Abstract")}},{key:"toString",value:function(){return this._name}}]),t}();exports.AbstractPlayer=n;
},{}],"uGSB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HumanPlayer=void 0;var t=require("./abstract-player");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=s();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){u(i,t.AbstractPlayer);var r=c(i);function i(t){var e;return n(this,i),(e=r.call(this,t))._setupEventListeners(),e.symbol="ðŸ”¥",e._onMadeTurn=null,e}return o(i,[{key:"makeTurn",value:function(t){this._onMadeTurn=t}},{key:"_setupEventListeners",value:function(){document.getElementById("game").addEventListener("click",this.onMakeTurn.bind(this))}},{key:"removeEventListeners",value:function(){document.getElementById("game").removeEventListener("click",this.onMakeTurn.bind(this))}},{key:"onMakeTurn",value:function(t){if("cell"===t.target.classList[0]&&!t.target.textContent){var e=t.target.dataset.index;this._onMadeTurn&&(this._onMadeTurn(e),this._onMadeTurn=null)}}}]),i}();exports.HumanPlayer=y;
},{"./abstract-player":"zr4s"}],"Hry0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArtificialPlayer=void 0;var t=require("./abstract-player");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=l();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?a(t):r}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){u(c,t.AbstractPlayer);var n=i(c);function c(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PC";return r(this,c),(t=n.call(this,e)).symbol="â„ï¸",t}return o(c,[{key:"_getAvailableCellIndexes",value:function(t){return t.reduce(function(t,e,r){return e||t.push(r),t},[])}},{key:"makeTurn",value:function(t,e){var r=this._getAvailableCellIndexes(e);setTimeout(function(){var e=Math.floor(Math.random()*r.length);t(r[e])},1e3)}}]),c}();exports.ArtificialPlayer=y;
},{"./abstract-player":"zr4s"}],"CsZH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SmartArtificialPlayer=void 0;var t=require("./artificial-player");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,r){return c(t)||u(t,r)||o(t,r)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,r){if(t){if("string"==typeof t)return i(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,r):void 0}}function i(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function u(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done)&&(e.push(u.value),!r||e.length!==r);n=!0);}catch(f){o=!0,i=f}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return e}}function c(t){if(Array.isArray(t))return t}function f(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function a(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,r,e){return r&&a(t.prototype,r),e&&a(t,e),t}function s(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&y(t,r)}function y(t,r){return(y=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function p(t){var r=m();return function(){var e,n=v(t);if(r){var o=v(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return b(this,e)}}function b(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(r){s(o,t.ArtificialPlayer);var n=p(o);function o(){var t;return f(this,o),(t=n.call(this))._winningCellsCombinations=[[0,1,2],[0,3,6],[0,4,8],[1,4,7],[2,5,8],[2,4,6],[3,4,5],[6,7,8]],t}return l(o,[{key:"makeTurn",value:function(t,r){var n=this,o=r.reduce(function(t,r,e){return r!==n&&r||t.push(e),t},[]);setTimeout(function(){var i=e(n._winningCellsCombinations.filter(function(t){return t.every(function(r){if(o.includes(r))return t})}),1)[0],u=n._getAvailableCellIndexes(r).filter(function(t){return!(i instanceof Array)||i.includes(t)}),c=Math.floor(Math.random()*u.length);t(u[c])},100)}}]),o}();exports.SmartArtificialPlayer=d;
},{"./artificial-player":"Hry0"}],"IEHn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var e=require("./player/human-player"),t=require("./player/smart-artificial-player");function r(e,t){return s(e)||l(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,i=!1,n=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(o){i=!0,n=o}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}return r}}function s(e){if(Array.isArray(e))return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var y=function(){function a(r){o(this,a);var i=r.isAgainstComputer,n=r.storage,l=r.gui;this._storage=n,this._gui=l,this._gui.onResetClicked(this._reset.bind(this)),this._field=new Array(9).fill(null),this._player1=new e.HumanPlayer(this.askPlayerName()),this._player2=i?new t.SmartArtificialPlayer:new e.HumanPlayer(this.askPlayerName()),this._lastWinnerName=this._storage.getLastWinnerName(),this._activePlayer="PC"===this._lastWinnerName?this._player2:this._player1,this._gui.displayPlayedGames(this._storage.getPlayedGames())}return h(a,[{key:"askPlayerName",value:function(){return localStorage.userName||this._validateUserName()}},{key:"_validateUserName",value:function(){var e=prompt("Ð˜Ð¼Ñ:","Ð˜Ð³Ñ€Ð¾Ðº1");return e||this._validateUserName()}},{key:"fillFieldCell",value:function(e){console.log("Ð˜Ð³Ñ€Ð¾Ðº ".concat(this._activePlayer," Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ð» ÐºÐ»ÐµÑ‚ÐºÑƒ Ñ Ð¸Ð½Ð´ÐµÐºÐ¾Ð¼ ").concat(e)),this._field[e]=this._activePlayer,this._gui.markCell(e,this._activePlayer),this.shouldContinue()?(this._activePlayer=this._activePlayer===this._player1?this._player2:this._player1,this.processNextTurn()):console.log("game over")}},{key:"shouldContinue",value:function(){var e=this._gameIsWon(),t=this._getEmptyCells().length<1;return e?(this._storage.saveGameHistory(this._activePlayer),console.log("".concat(this._activePlayer," has won"))):t&&(this._storage.saveGameHistory(),console.log("Draw")),!e&&!t||(this._gui.displayPlayedGames(this._storage.getPlayedGames()),this._gui.showNewGameButton(),!1)}},{key:"_getEmptyCells",value:function(){return this._field.reduce(function(e,t,r){return t||e.push(r),e},[])}},{key:"_getBinaryMatrixCells",value:function(e){return this._field.map(function(t){return Number(t===e)})}},{key:"_gameIsWon",value:function(){var e=this._getBinaryMatrixCells(this._player1),t=this._getBinaryMatrixCells(this._player2);return this.playerHasWon(e)||this.playerHasWon(t)}},{key:"playerHasWon",value:function(e){var t=r(e,9),a=t[0],i=t[1],n=t[2],l=t[3],s=t[4],o=t[5],u=t[6],h=t[7],y=t[8];return a*i*n+l*s*o+u*h*y+a*l*u+i*s*h+n*o*y+a*s*y+n*s*u>0}},{key:"processNextTurn",value:function(){var e=this._getEmptyCells();console.log("Ð¥Ð¾Ð´Ð¸Ñ‚ ".concat(this._activePlayer)),e.length<1||this._activePlayer.makeTurn(this.fillFieldCell.bind(this),this._field)}},{key:"_reset",value:function(){this._gui.clearCells(),this._gui.hideNewGameButton(),this._field=this._field.map(function(){return null}),this.processNextTurn()}}]),a}();exports.Game=y;
},{"./player/human-player":"uGSB","./player/smart-artificial-player":"CsZH"}],"uBUP":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameHistoryStorage=void 0;var a=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,r),this._storageSource=t}return t(r,[{key:"getLastWinnerName",value:function(){return this._storageSource.lastWinPlayer||null}},{key:"getPlayedGames",value:function(){return this._storageSource.numberOfGamesPlayed||0}},{key:"saveGameHistory",value:function(e){var r=this._storageSource.winnersStat?JSON.parse(this._storageSource.winnersStat):{USER:0,PC:0};"PC"===String(e)?r.PC++:e&&r.USER++,this._storageSource.winnersStat=JSON.stringify(r),this._storageSource.lastWinPlayer=String(e),this._storageSource.numberOfGamesPlayed?this._storageSource.numberOfGamesPlayed++:this._storageSource.numberOfGamesPlayed=1}}]),r}();exports.GameHistoryStorage=a;
},{}],"EaDk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionStorageGameHistoryStorage=void 0;var t=require("./game-history-storage");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=f();return function(){var r,o=s(t);if(e){var n=s(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return i(this,r)}}function i(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?u(t):r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(e){o(i,t.GameHistoryStorage);var n=c(i);function i(){return r(this,i),n.call(this,sessionStorage)}return i}();exports.SessionStorageGameHistoryStorage=a;
},{"./game-history-storage":"uBUP"}],"QdeU":[function(require,module,exports) {
"use strict";var e=require("./gui"),r=require("./game"),s=require("./history-storage/session-storage-game-history-storage"),t=new s.SessionStorageGameHistoryStorage,i=new e.GUI,o=new r.Game({isAgainstComputer:!0,gui:i,storage:t});o.processNextTurn();
},{"./gui":"OU0T","./game":"IEHn","./history-storage/session-storage-game-history-storage":"EaDk"}]},{},["QdeU"], null)